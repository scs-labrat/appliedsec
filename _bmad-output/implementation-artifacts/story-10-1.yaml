id: "10-1"
title: "Anthropic Batch API Client"
epic: 10
status: done
files:
  - batch_scheduler/__init__.py
  - batch_scheduler/models.py
  - batch_scheduler/client.py
  - tests/test_batch_scheduler/__init__.py
  - tests/test_batch_scheduler/test_models.py
  - tests/test_batch_scheduler/test_client.py
summary: |
  AluskortBatchClient wrapper for the Anthropic Batch API (50% cost
  discount). submit() creates batch with max 10,000 tasks, poll_status()
  checks completion with 24h SLA enforcement (BatchSLAExceeded exception),
  retrieve_results() parses JSONL with optional output validator.
  Data models: BatchTask (auto-UUID, model_id, max_tokens), BatchJob
  (6-state lifecycle: PENDING→SUBMITTED→IN_PROGRESS→COMPLETED/FAILED/EXPIRED),
  FPPattern (pending_review→approved→active→deprecated), PlaybookDraft.
  Constants: MAX_BATCH_SIZE=10000, BATCH_SLA_HOURS=24.
tests: 40 passed (20 models + 20 client)
